import java.util.ArrayList;
import java.util.Scanner;

import song.KpopSong;
import song.Song;

public class SongManager {
	ArrayList<Song> songs = new ArrayList<Song>();
	Scanner input; 
	SongManager(Scanner input) {
		this.input = input;
	}
	public void addSong() {
		int kind = 0;
		Song song;
		while (kind !=1 && kind !=2) {
			System.out.print("1 for Pop ");
			System.out.print("2 for Kpop ");
			System.out.print("Select num for Song Kind between 1 and 2 :");
			kind = input.nextInt();
			if (kind == 1) {
				song = new Song();
				song.getUserInput(input);
				songs.add(song);
				break;
			}
			else if(kind == 2) {
				song = new KpopSong();
				song.getUserInput(input);
				songs.add(song);
				break;
			}
			else {
				System.out.print("Select num for Song Kind between 1 and 2 :");
			}
		}
	}
	public void delateSong() {
		System.out.print("Song Name : ");
		String songName = input.next();
		int index = -1;
		for(int i = 0; i<songs.size(); i++) {
			 if (songs.get(i).getName().equals(songName)) {
			    	index = i;
			    	break;
			    }
		}
		 
		if (index >= 0) {
			songs.remove(index); 
		    System.out.println("the song " + songName + " is delated");
		}
		else {
			System.out.println("the song has not been registered");
			return;
		}

	}
	
	public void editSong() {
		System.out.print("Song Name : ");
		String songName = input.next();
		for(int i = 0; i<songs.size(); i++) {
			Song song = songs.get(i);
			if (song.getName().equals(songName)) {
				int num = -1;
				while (num != 5) {
					System.out.println(" ## Song Info Edit Menu ## ");
					System.out.println(" 1. Edit Song");
					System.out.println(" 2. Edit Singer");
					System.out.println(" 3. Edit Genre");
					System.out.println(" 4. View Song");
					System.out.println(" 5. Exit");
					System.out.println("Select one number between 1 - 5:");
					num = input.nextInt();
					if(num == 1) {
						System.out.print("Song Name :");
						String name = input.next();
						song.setName(name);
					}
					else if(num == 2) {
						System.out.print("Singer :");
						String singer = input.next(); 
						song.setSinger(singer);
					}
					else if(num == 3) {
						System.out.print("Song Genre :");
						String genre = input.next();
						song.setGenre(genre); 
					}
					else {
						continue;
					}
				} 
				break;
			}
	    }
	}
	
	public void viewSongs() {
//		System.out.print("Song Name : ");
//		String songName = input.next();
		System.out.println("# of registered songs:" + songs.size());
		for(int i = 0; i<songs.size(); i++) {
			songs.get(i).printInfo();
		}
	}
} 
